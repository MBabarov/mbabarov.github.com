<ons-page class="center product-choice-page" ng-controller="ProductChoiceCtrl">
    <ons-toolbar title="Продукт">
        <div class="left">
             <ons-back-button></ons-back-button>
        </div>
        <div class="center">
            Выбор продукта
        </div>
        <div class="right">

        </div>
    </ons-toolbar>
    <div class="button-bar form">
        <div class="padded-10-0 bg-grey">
            <h3 class="padded-0-0-5-0 left">
                Фильтр по товарам
            </h3>
            <ons-row>
                <ons-col>
                    <input type="text" class="text-input filter-search" ng-class="{'focused': focused}" ng-init="focused = false" ng-focus="focused = true" ng-blur="focused = false" ng-model="query.data" placeholder="Название товара" />
                </ons-col>
                <ons-col class="width-80">
                    <ons-toolbar-button ng-click="clearNameFilter();" class="button--medium--cta button--bottom">Сброс</ons-toolbar-button>
                </ons-col>
            </ons-row>
        </div>
    </div>
    <div class="navigator-container">
		<div class="navigator-content relative">
			<div class="full-screen scroller-wrapper">
            <div class="full-screen scroller-wrapper extra-scroll-block">
                <div class="loading blue-color padded-20" ng-if="!readyListProducts">
                    <ons-icon icon="fa-circle-o-notch" size="lg" spin="true"></ons-icon>
                </div>
                <ons-list  ng-if="readyListProducts">
                    <ons-list-item class="listProducts" ng-init="index=$index; currentProduct=oneProduct;"ng-repeat="oneProduct in listProducts | filter:{name: query.data}">
                        <ons-row class="padded-10 left">
                            <ons-col class="padded-10-0">
                                {{$index+1}} {{oneProduct.name}}
                            </ons-col>
                            <ons-col class="width-120">
                                <ons-toolbar-button ng-click="saveEditProduct(this);" class="button--medium--cta button--bottom">Выбрать</ons-toolbar-button>
                            </ons-col>
                        </ons-row>
                    </ons-list-item>
                </ons-list>
                <p ng-if="readyListProducts && listProducts.length==0" class="left padded-10">
                    К сожалению, в данный момент нет товара с такими критериями
                </p>
                <ons-bottom-toolbar class="padded-22-0 bottom-button-block">
                    <ons-row>
                        <ons-col>
                            <div>
                                <button class="button--large--cta btn-white button--bottom" ng-click="moveToProductsListPage()">Отменить</button>
                            </div>
                        </ons-col>
                    </ons-row>
                </ons-bottom-toolbar>
			</div>
			</div>
		</div>
	</div>
</ons-page>